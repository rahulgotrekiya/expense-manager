<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Expense Manager - Dashboard</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700;900&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="assets/css/main.css" />
    <link rel="stylesheet" href="assets/css/sidebar.css" />
    <link rel="stylesheet" href="assets/css/dashboard.css" />
  </head>
  <body>
    <div class="app-container">
      <aside class="sidebar" id="sidebar">
        <div class="sidebar-content">
          <div class="user-profile">
            <div class="user-avatar">
              <span class="material-symbols-outlined">person</span>
            </div>
            <div class="user-info">
              <h1 class="user-name">Expense Manager</h1>
              <p class="user-email">Personal Finance</p>
            </div>
          </div>

          <nav class="sidebar-nav">
            <a href="index.html" class="nav-item active">
              <span class="material-symbols-outlined fill">dashboard</span>
              <p>Dashboard</p>
            </a>
            <a href="transactions.html" class="nav-item">
              <span class="material-symbols-outlined">receipt_long</span>
              <p>Transactions</p>
            </a>
            <a href="budgets.html" class="nav-item">
              <span class="material-symbols-outlined">pie_chart</span>
              <p>Budgets</p>
            </a>
            <a href="reports.html" class="nav-item">
              <span class="material-symbols-outlined">bar_chart</span>
              <p>Reports</p>
            </a>
            <a href="settings.html" class="nav-item">
              <span class="material-symbols-outlined">settings</span>
              <p>Settings</p>
            </a>
          </nav>
        </div>

        <div class="sidebar-footer">
          <button
            class="btn-primary btn-add-transaction"
            id="btnAddTransaction"
          >
            <span class="material-symbols-outlined">add</span>
            <span>Add Transaction</span>
          </button>
        </div>
      </aside>

      <main class="main-content">
        <div class="content-wrapper">
          <header class="page-header">
            <h1 class="page-title">Dashboard</h1>
            <div class="header-actions">
              <select class="period-selector" id="periodSelector">
                <option value="thisMonth">This Month</option>
                <option value="lastMonth">Last Month</option>
                <option value="last30Days">Last 30 Days</option>
                <option value="thisYear">This Year</option>
              </select>
            </div>
          </header>

          <section class="stats-grid">
            <div class="stat-card">
              <p class="stat-label">Total Balance</p>
              <p class="stat-value" id="totalBalance">$0.00</p>
              <p class="stat-change positive" id="balanceChange">+0%</p>
            </div>
            <div class="stat-card">
              <p class="stat-label">Income</p>
              <p class="stat-value" id="totalIncome">$0.00</p>
              <p class="stat-change positive" id="incomeChange">+0%</p>
            </div>
            <div class="stat-card">
              <p class="stat-label">Expenses</p>
              <p class="stat-value" id="totalExpenses">$0.00</p>
              <p class="stat-change negative" id="expenseChange">-0%</p>
            </div>
          </section>

          <div class="dashboard-grid">
            <section class="chart-card">
              <div class="card-header">
                <h2 class="card-title">Income vs. Expense Overview</h2>
              </div>
              <p class="chart-total" id="netAmount">$0.00</p>
              <div class="chart-subtitle">
                <span class="subtitle-text">Net This Month</span>
                <span class="subtitle-change positive" id="netChange">+0%</span>
              </div>
              <div class="chart-container">
                <canvas id="incomeExpenseChart"></canvas>
              </div>
            </section>

            <section class="spending-card">
              <h2 class="card-title">Spending by Category</h2>
              <div class="donut-chart-container">
                <canvas id="categoryChart"></canvas>
                <div class="donut-center">
                  <span class="donut-label">Total Spent</span>
                  <span class="donut-value" id="categoryTotal">$0.00</span>
                </div>
              </div>
              <div class="category-list" id="categoryList">
                <!-- Categories will be inserted here -->
              </div>
            </section>
          </div>

          <section class="transactions-section">
            <h2 class="section-title">Recent Transactions</h2>
            <div class="transactions-table">
              <div class="table-header">
                <div class="th description">Description</div>
                <div class="th date">Date</div>
                <div class="th amount">Amount</div>
              </div>
              <div class="table-body" id="recentTransactions">
                <!-- Recent transactions will be inserted here -->
              </div>
            </div>
          </section>
        </div>
      </main>
    </div>

    <!-- Add Transaction Modal -->
    <div class="modal" id="transactionModal">
      <div class="modal-content">
        <div class="modal-header">
          <h2 class="modal-title">Add Transaction</h2>
          <button class="btn-close" id="btnCloseModal">
            <span class="material-symbols-outlined">close</span>
          </button>
        </div>
        <div class="modal-body">
          <div class="transaction-type-toggle">
            <label class="type-option expense active">
              <span>Expense</span>
              <input
                type="radio"
                name="transactionType"
                value="expense"
                checked
              />
            </label>
            <label class="type-option income">
              <span>Income</span>
              <input type="radio" name="transactionType" value="income" />
            </label>
          </div>

          <div class="form-group">
            <label class="form-label">Amount</label>
            <div class="amount-display" id="amountDisplay">$0.00</div>
          </div>

          <div class="calculator">
            <button class="calc-btn clear" data-action="clear">C</button>
            <button class="calc-btn operator" data-action="negate">+/-</button>
            <button class="calc-btn operator" data-action="percent">%</button>
            <button class="calc-btn operator" data-action="backspace">
              <span class="material-symbols-outlined">backspace</span>
            </button>
            <button class="calc-btn number" data-value="7">7</button>
            <button class="calc-btn number" data-value="8">8</button>
            <button class="calc-btn number" data-value="9">9</button>
            <button class="calc-btn operator" data-action="add">+</button>
            <button class="calc-btn number" data-value="4">4</button>
            <button class="calc-btn number" data-value="5">5</button>
            <button class="calc-btn number" data-value="6">6</button>
            <button class="calc-btn operator" data-action="subtract">-</button>
            <button class="calc-btn number" data-value="1">1</button>
            <button class="calc-btn number" data-value="2">2</button>
            <button class="calc-btn number" data-value="3">3</button>
            <button class="calc-btn operator" data-action="multiply">Ã—</button>
            <button class="calc-btn number zero" data-value="0">0</button>
            <button class="calc-btn number" data-value=".">.</button>
            <button class="calc-btn done" data-action="done">
              <span class="material-symbols-outlined">done</span>
            </button>
          </div>

          <div class="form-group">
            <label class="form-label">Category</label>
            <select class="form-select" id="categorySelect">
              <option value="">Select a category</option>
            </select>
          </div>

          <div class="form-group">
            <label class="form-label">Date</label>
            <input type="date" class="form-input" id="transactionDate" />
          </div>

          <div class="form-group">
            <label class="form-label">Description</label>
            <input
              type="text"
              class="form-input"
              id="transactionDescription"
              placeholder="Enter description"
            />
          </div>

          <div class="form-group">
            <label class="form-label">Notes</label>
            <textarea
              class="form-textarea"
              id="transactionNotes"
              placeholder="Add a note..."
            ></textarea>
          </div>

          <button class="btn-primary btn-save" id="btnSaveTransaction">
            Save Transaction
          </button>
        </div>
      </div>
    </div>

    <script src="assets/js/utils.js"></script>
    <script src="assets/js/storage.js"></script>
    <script src="assets/js/categories.js"></script>
    <script src="assets/js/transactions.js"></script>
    <script src="assets/js/dashboard.js"></script>
    <script src="assets/js/app.js"></script>
  </body>
</html>
